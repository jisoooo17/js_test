<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="main.css">
</head>
<body style="min-height: 2000px;">

  <button id="btn-modal">ëª¨ë‹¬ì°½</button>
  <div class="black-bg">
    <div class="white-bg">
      <h4>ë¡œê·¸ì¸í•˜ì„¸ìš”</h4>
      

      <!-- form -->
      <form action="success.html">
        <div class="my-3">
          <input type="text" class="form-control" id="email">
        </div>
        <div class="my-3">
          <input type="password" class="form-control" id="pw">
        </div>
        <button type="submit" class="btn btn-primary">ì „ì†¡</button>
        <button type="button" class="btn btn-danger" id="close">ë‹«ê¸°</button>
      </form> 
    </div>
  </div> 

  <!-- nav -->
  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <span class="navbar-brand">Navbar</span>
      <span class="badge bg-dark">Dark ğŸ”„</span>
      <button class="navbar-toggler" type="button">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
  </nav> 

  <ul class="list-group">
    <li class="list-group-item">An item</li>
    <li class="list-group-item">A second item</li>
    <li class="list-group-item">A third item</li>
    <li class="list-group-item">A fourth item</li>
    <li class="list-group-item">And a fifth one</li>
  </ul> 

  <div class="main-bg"></div>

  <!-- ìºëŸ¬ì…€(ìŠ¬ë¼ì´ë“œ) -->
  <div class="slide-w">
    <div class="slide-container">
      <div class="slide-box">
        <img src="./img/car1.png" alt="">
      </div>
      <div class="slide-box">
        <img src="./img/car2.png" alt="">
      </div>
      <div class="slide-box">
        <img src="./img/car3.png" alt="">
      </div>
    </div>
  </div>
  <div class="btn-w">
    <button class="slide1 slide">1</button>
    <button class="slide2 slide">2</button>
    <button class="slide3 slide">3</button>
  </div>
  <div class="btn-w">
    <button class="btn-prev">ì´ì „</button>
    <button class="btn-next">ë””ìŒ</button>
  </div>
  
  <!-- alert -->
  <div class="alert alert-danger">
    <span class="timer">5</span>ì´ˆ ì´ë‚´ êµ¬ë§¤ì‹œ ì‚¬ì€í’ˆ ì¦ì •
  </div>


  <div class="scl-box" style="width: 100%; height: 100px; overflow-y: scroll">
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Ab voluptatibus labore perspiciatis. Beatae nam provident praesentium, ex laudantium quidem voluptas impedit harum rerum explicabo corrupti, et nesciunt eligendi tenetur, eos laboriosam nemo eum eaque ratione labore repellendus. Suscipit animi molestias commodi earum exercitationem reprehenderit nam veritatis explicabo soluta odio? Ducimus nulla sunt itaque beatae quis! Facere dolorem doloribus, voluptatem illum in repellat? Est dignissimos facere ullam, nostrum magni ut sit modi maiores vero? Tenetur aliquid, hic velit non labore doloribus ex adipisci molestias neque ad, enim voluptates mollitia? Aperiam qui expedita ipsum laudantium reprehenderit velit voluptatem exercitationem eos sunt vero?
  </div>


  <!-- @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ -->

  <!-- nav -->
  <script>
    document.getElementsByClassName("navbar-toggler")[0].addEventListener("click", function(){
      document.getElementsByClassName("list-group")[0].classList.toggle("show");
    });

    /* ëª¨ë‹¬ - visibility*/
    document.getElementById("btn-modal").addEventListener("click", function(){
      document.querySelector(".black-bg").classList.add("show");
    });

    document.getElementById("close").addEventListener("click", function(){
      document.querySelector(".black-bg").classList.remove("show");
    });
  
    /* ëª¨ë‹¬ - displayë¡œ ì²˜ë¦¬*/ 
    /*document.getElementById("btn-modal").addEventListener("click", function(){
      document.querySelector(".black-bg").style.display = "block";  // displayë¥¼ blockìœ¼ë¡œ ì „í™˜
      setTimeout(() => blackBg.classList.add("show"), 10);  // opacity ì• ë‹ˆë©”ì´ì…˜ì„ ì ìš©í•˜ê¸° ìœ„í•´ ì•½ê°„ì˜ ë”œë ˆì´
    });

    document.getElementById("close").addEventListener("click", function(){
      document.querySelector(".black-bg").classList.remove("show");
      setTimeout(() => blackBg.style.display = "none", 1000);  // transitionì´ ëë‚œ í›„ displayë¥¼ noneìœ¼ë¡œ ì„¤ì •
    });*/



    /* ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë°©ì§€ */
    // bg í´ë¦­ ì‹œ ëª¨ë‹¬ ë‹«ê¸° - 
    document.querySelector(".black-bg").addEventListener("click", function(e){
      if(e.target == document.querySelector(".black-bg")){
        document.querySelector(".black-bg").classList.remove("show");
      }
    });

    /*
      e.target; // ìœ ì €ê°€ ì‹¤ì œë¡œ ëˆ„ë¥¸ê±°
      e.currentTarget; // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë‹¬ë¦°ê³³ (this)
      e.preventDefault(); // ì´ë²¤íŠ¸ ê¸°ë³¸ë™ì‘ ë§‰ì•„ì¤Œ
      e.stopPropagation(); // ì´ë²¤íŠ¸ ë²„ë¸”ë§ ë§‰ì•„ì¤Œ
    */
  </script>

  <!-- ì¸í’‹ ê³µë°±ê²€ì‚¬ & ì´ë©”ì¼ ìœ íš¨ì„± -->
  <script>
    // ì „ì†¡ ë²„íŠ¼ ëˆ„ë¥´ë©´ 
    // ì €ê¸° inputì— ì…ë ¥í•œ ê°’ì´ ê³µë°±ì´ë©´ alert ë„ì›€
    document.querySelector("form").addEventListener("submit", function(e){
      let userEmail = document.getElementById("email").value; 
      let userPw = document.getElementById("pw").value
      if(userEmail.trim() == ""){
        e.preventDefault();
        alert("ê°’ì„ ì…ë ¥í•˜ì„¸ìš”.");
      }

      if( !/\S+@\S+\.\S+/.test(userEmail)){
        e.preventDefault();
        alert("ì´ë©”ì¼ í˜•ì‹ì´ ë§ì§€ ì•ŠìŠµë‹ˆë‹¤.");
      }
      

      if(userPw.trim().length < 6){
        alert("6ì ì´ìƒ ì…ë ¥í•˜ì„¸ìš”.");
        e.preventDefault();
      }

      console.log(userPw)
      if(!/[A-Z]/.test(userPw)){
        e.preventDefault();
        alert("ëŒ€ë¬¸ìí•˜ë‚˜ í¬í•¨");
      }
    });
    
    // ì´ë©”ì¼ ìœ íš¨ì„±
    // ëª¨ë“ ë¬¸ì @ ëª¨ë“ ë¬¸ì . ëª¨ë“ ë¬¸ì
    // console.log(/\S+@\S+\.\S+/.test("aaa@bbb.com"));

      

  </script>

  <!-- input ì´ë²¤íŠ¸ -->
  <script>
    // inputì€ ê°’ì´ ë°”ë€”ë•Œ ë§ˆë‹¤ ì‹¤í–‰ 
    // changeëŠ” ì¸í’‹ì˜ í¬ì»¤ìŠ¤ë¥¼ ìƒì„ë•Œ ì‹¤í–‰
    /*document.getElementById("email").addEventListener("input", function(){
      console.log(123);
    });*/
  </script>

  <!-- ë‹¤í¬ëª¨ë“œ ë²„íŠ¼  -->
  <script>
    // badge í™€ìˆ˜ë²ˆ í´ë¦­ ì‹œ ë²„íŠ¼ ë‚´ë¶€ í…ìŠ¤íŠ¸ Lightë¡œ ë³€ê²½, ì§ìˆ˜ë²ˆ í´ë¦­ ì‹œ Darkë¡œ ë³€ê²½
    // í´ë¦­ íšŸìˆ˜ ì €ì¥ ë³€ìˆ˜ ì¶”ê°€

    let num = 0;
    document.querySelector(".badge").addEventListener("click", function(){
      num += 1;
      if(num % 2 === 0) {
        document.querySelector(".badge").innerHTML = "Light ğŸ”„"
      } else {
        document.querySelector(".badge").innerHTML = "Dark ğŸ”„"
      }
      
    })
  </script>


  <!-- íƒ€ì´ë¨¸ -->
  <script>
    let count = 5;
    const timer = setInterval(()=>{
      count--;
      document.querySelector(".timer").innerHTML = count;

      if(count == 0){
        document.querySelector(".alert").style.display = "none";
        clearInterval(timer)
      }
    }, 1000);


    // ì½œë°±í…ŒìŠ¤íŠ¸
    setTimeout(test, 1000);
    function test(){
      //console.log("hi")
    }
    /*
    setTimeout(test(), 3000)ì´ ì‘ë™í•˜ì§€ ì•ŠëŠ” ì´ìœ ëŠ” í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³  ê·¸ ê²°ê³¼ê°’ì„ ì „ë‹¬í•˜ë ¤ê³  í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. test()ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” í‘œí˜„ì‹ì´ë¯€ë¡œ, ì¦‰ì‹œ ì‹¤í–‰ë˜ì–´ ê²°ê³¼ê°’ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ê·¸ë˜ì„œ setTimeoutì— ì „ë‹¬ë˜ëŠ” ê²ƒì€ í•¨ìˆ˜ì˜ ë°˜í™˜ê°’(undefinedì¼ ê°€ëŠ¥ì„±ì´ í¼)ì´ì§€, í•¨ìˆ˜ ìì²´ê°€ ì•„ë‹™ë‹ˆë‹¤.

    ** ì˜¬ë°”ë¥¸ ë°©ì‹
    setTimeoutì— í•¨ìˆ˜ ìì²´ë¥¼ ì „ë‹¬í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—, test() ëŒ€ì‹  testë¥¼ ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë ‡ê²Œ í•˜ë©´ í•¨ìˆ˜ê°€ ì§€ì—° í›„ì— ì‹¤í–‰ë©ë‹ˆë‹¤.
    */
    
  </script>


  <!-- ìºëŸ¬ì…€ (ìŠ¬ë¼ì´ë“œ) -->
  <script>
    // ìˆ«ìë²„íŠ¼
    /*document.querySelector(".slide1").addEventListener("click", function(){
      document.querySelector(".slide-container").style.transform = "translateX(0)"
    });
    document.querySelector(".slide2").addEventListener("click", function(){
      document.querySelector(".slide-container").style.transform = "translateX(-100vw)"
    });
    document.querySelector(".slide3").addEventListener("click", function(){
      document.querySelector(".slide-container").style.transform = "translateX(-200vw)"
    });*/


    // ë‹¤ìŒ ë²„íŠ¼
    // ë‹¤ìŒ ë²„íŠ¼ ëˆ„ë¥´ë©´ ì§€ê¸ˆ ë³´ì´ëŠ” ì‚¬ì§„ì´1ì´ë©´ 2ë²ˆì‚¬ì§„ ë³´ì—¬ì£¼ì„¸ìš”
    // ì§€ê¸ˆ ë³´ì´ëŠ” ì‚¬ì§„ì´ 2ì´ë©´ 3ë²ˆì‚¬ì§„ ë³´ì—¬ì£¼ì„¸ìš”
    /*let slideNum = 1;
    document.querySelector(".btn-next").addEventListener("click", function(){
      if(slideNum == 1){
        slideNum++;
        document.querySelector(".slide-container").style.transform = "translateX(-100vw)";
      } else if( slideNum == 2){
        slideNum++;
        document.querySelector(".slide-container").style.transform = "translateX(-200vw)";
      }
      console.log(slideNum)
    });

    // ì´ì „ ë²„íŠ¼
    document.querySelector(".btn-prev").addEventListener("click", function(){
      if(slideNum == 3){
        slideNum--;
        document.querySelector(".slide-container").style.transform = "translateX(-100vw)"
      } else if (slideNum == 2){
        slideNum--;
        document.querySelector(".slide-container").style.transform = "translateX(0)"
      }
      console.log(slideNum)
    });*/

    let slideNum = 0;
    let totalNum = document.querySelectorAll(".slide-box").length - 1;
    // console.log(document.querySelectorAll(".slide-box").length)
    document.querySelector(".btn-next").addEventListener("click", function(){
      if(slideNum < totalNum){
        slideNum++;
        document.querySelector(".slide-container").style.transform = `translateX(-${slideNum * 100}vw)`;
      } 
    });

    document.querySelector(".btn-prev").addEventListener("click", function(){
      
      if(slideNum > 0){
        console.log(slideNum)
        slideNum--;
        document.querySelector(".slide-container").style.transform = `translateX(-${slideNum * 100}vw)`;
      }
    });


    // ìˆ«ì ë²„íŠ¼ í´ë¦­ ì‹œ ìŠ¬ë¼ì´ë“œ ì´ë™
    document.querySelectorAll(".slide").forEach((slide, index)=>{
      slide.addEventListener("click", function(){
        console.log(index)
        document.querySelector(".slide-container").style.transform = `translateX(-${index * 100}vw)`;
      });
    });
  </script>

  <!-- ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ -->
  <script>
    // ìŠ¤í¬ë¡¤ 100 ì´ìƒì´ë©´ nav í°íŠ¸ ì¤„ì´ê¸°
    window.addEventListener("scroll", function(){
      if(parseInt(window.scrollY) >= 100){
        document.querySelector(".navbar-brand").style.fontSize = "20px"
      } else {
        document.querySelector(".navbar-brand").style.fontSize = "30px"
      }
    });


    // ìŠ¤í¬ë¡¤ ëê¹Œì§€ ë‚´ë¦¬ë©´ ì´ë²¤íŠ¸ ë°œìƒ
    document.querySelector(".scl-box").addEventListener("scroll", function(){
      let sclTop = parseInt(document.querySelector(".scl-box").scrollTop);
      let boxHt = document.querySelector(".scl-box").clientHeight; // ë°•ìŠ¤ ë†’ì´
      let sclHt = document.querySelector(".scl-box").scrollHeight; // ìŠ¤í¬ë¡¤ ë†’ì´

      // ìŠ¤í¬ë¡¤ë°” ë‚´ë¦°ì–‘ + ë…¸ì¶œëœ divì˜ ìŠ¤í¬ë¡¤ ë†’ì´ == div ì‹¤ì œë†’ì´
      if(sclTop + boxHt >= sclHt){
        alert("ìŠ¤í¬ë¡¤ ë!");
      }
    });
    
    // í˜„ì¬ í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤ ì²´í¬
    // documentElement === querySelector("html")
    let alertShown = false; // ì•Œë¦¼ì´ ì´ë¯¸ í‘œì‹œë˜ì—ˆëŠ”ì§€ ì²´í¬
    let lastScrollY = window.scrollY; // ë§ˆì§€ë§‰ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜

    document.addEventListener("scroll", function() {
      let pageTop = parseInt(window.scrollY); // í˜„ì¬ í˜ì´ì§€ ìŠ¤í¬ë¡¤ ì–‘
      let curPageHt = document.documentElement.clientHeight; // í˜ì´ì§€ ë³´ì´ëŠ” ë¶€ë¶„ ë†’ì´
      let pageHt = document.documentElement.scrollHeight; // í˜„ì¬ í˜ì´ì§€ ì‹¤ì œ ë†’ì´

      // í˜ì´ì§€ ëì— ë„ë‹¬í–ˆëŠ”ì§€ í™•ì¸
      if (pageTop + curPageHt >= pageHt - 10 && !alertShown && pageTop > lastScrollY) {
        alert("í˜ì´ì§€ ë");
        alertShown = true; // ì•Œë¦¼ í‘œì‹œ í›„ í”Œë˜ê·¸ë¥¼ trueë¡œ ì„¤ì •
      }

      // ì—…ìŠ¤í¬ë¡¤í•  ë•Œ í”Œë˜ê·¸ ì´ˆê¸°í™”
      if (pageTop < lastScrollY) {
        alertShown = false; // ì—…ìŠ¤í¬ë¡¤í•˜ë©´ í”Œë˜ê·¸ ì´ˆê¸°í™”
      }

      // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¥¼ ë§ˆì§€ë§‰ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ë¡œ ì—…ë°ì´íŠ¸
      lastScrollY = pageTop; 
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>